# AFTIS Environment Configuration
# Copy this to .env and fill in your values

# =============================================================================
# PORT CONFIGURATION
# =============================================================================
# These ports must be available on your host system
# If conflicts occur, use ./check-ports.sh to find alternatives

# AFTIS Parser Service - Web interface and API (default: 8080)
AFTIS_PORT=8080

# PostgreSQL Database - Database server (default: 5432)  
POSTGRES_PORT=5432

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=aftis
POSTGRES_USER=aftis_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_HOST=postgres

# Database Connection URL (alternative to individual settings)
DATABASE_URL=postgresql://aftis_user:your_secure_password_here@postgres:5432/aftis

# =============================================================================
# AUTO-PROCESSOR CONFIGURATION
# =============================================================================
# Control behavior of automatic PDF processing

# Input directory for PDF files to be processed (default: /srv/aftis/inbox)
# For external directories like /var/syncthing/eStatement, use full path
INBOX_PATH=/srv/aftis/inbox

# Host directory to mount as inbox (default: ./inbox)
# For external directories like /var/syncthing/eStatement, use full path
INBOX_HOST_PATH=./inbox

# Delete successfully processed PDF files (true/false)
AUTO_DELETE_PDFS=true

# Wait time in seconds before processing newly detected files
PROCESS_DELAY_SECONDS=2

# Maximum number of retry attempts for failed processing
MAX_RETRIES=3

# Interval in seconds for periodic scanning of missed files
SCAN_INTERVAL_SECONDS=60

# Internal URL for auto-processor to communicate with parser service
PARSER_URL=http://parser:8080

# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# If you encounter port conflicts:
# 1. Run: ./check-ports.sh (shows conflicts and suggests alternatives)
# 2. Run: ./start.sh (automatically handles conflicts)  
# 3. Manual: Set different ports above and restart services